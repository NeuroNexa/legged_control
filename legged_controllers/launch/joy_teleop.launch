<?xml version="1.0" ?>
<!--
  This launch file starts the nodes required for teleoperating the robot with a joystick.
-->
<launch>
    <!-- Arguments -->
    <!-- The device file for the joystick. -->
    <arg name="joy_dev" default="/dev/input/js0"/>
    <!-- The configuration file that maps joystick axes and buttons to commands. -->
    <arg name="teleop_config" default="$(find legged_controllers)/config/joy.yaml"/>

    <!-- Starts the joystick driver node. -->
    <!-- This node reads data from the joystick device and publishes it as sensor_msgs/Joy messages. -->
    <node pkg="joy" type="joy_node" name="joy_node">
        <param name="dev" value="$(arg joy_dev)"/>
        <param name="deadzone" value="1e-3"/>
        <param name="autorepeat_rate" value="10"/>
        <param name="coalesce_interval" value="0.05"/>
    </node>

    <!-- Loads the joystick mapping configuration to the parameter server. -->
    <rosparam file="$(arg teleop_config)" command="load"/>
    <!-- Starts the teleoperation node. -->
    <!-- This node subscribes to the joy topic, interprets the joystick messages based on the loaded config,
         and publishes cmd_vel (geometry_msgs/Twist) messages. -->
    <node pkg="joy_teleop" type="joy_teleop.py" name="joy_teleop">
    </node>

</launch>
